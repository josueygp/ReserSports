
{% extends "base.html" %}

{% block content %}
  <h1 class="mb-4">Reservaciones del Día</h1>
  
  {% if all_reservations %}
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" id="reservationTabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="all-tab" data-bs-toggle="tab" href="#all" role="tab" aria-controls="all" aria-selected="true">Todas</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="cancelled-tab" data-bs-toggle="tab" href="#cancelled" role="tab" aria-controls="cancelled" aria-selected="false">Canceladas</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="reserved-tab" data-bs-toggle="tab" href="#reserved" role="tab" aria-controls="reserved" aria-selected="false">Reservadas</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="finished-tab" data-bs-toggle="tab" href="#finished" role="tab" aria-controls="finished" aria-selected="false">Finalizadas</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="active-tab" data-bs-toggle="tab" href="#active" role="tab" aria-controls="active" aria-selected="false">Activas</a>
      </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content mt-3">
      <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
        <!-- Tabla de todas las reservas -->
        {% include 'partials/reservation_table.html' with reservations=all_reservations %}
      </div>
      <div class="tab-pane fade" id="cancelled" role="tabpanel" aria-labelledby="cancelled-tab">
        <!-- Tabla de reservas canceladas -->
        {% include 'partials/reservation_table.html' with reservations=cancelled_reservations %}
      </div>
      <div class="tab-pane fade" id="reserved" role="tabpanel" aria-labelledby="reserved-tab">
        <!-- Tabla de reservas reservadas -->
        {% include 'partials/reservation_table.html' with reservations=reserved_reservations %}
      </div>
      <div class="tab-pane fade" id="finished" role="tabpanel" aria-labelledby="finished-tab">
        <!-- Tabla de reservas finalizadas -->
        {% include 'partials/reservation_table.html' with reservations=finished_reservations %}
      </div>
      <div class="tab-pane fade" id="active" role="tabpanel" aria-labelledby="active-tab">
        <!-- Tabla de reservas activas -->
        {% include 'partials/reservation_table.html' with reservations=active_reservations %}
      </div>
    </div>

  {% else %}
    <p class="mt-4">No hay reservaciones para el día de hoy.</p>
  {% endif %}

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function(){
      $('#reservationTabs a').on('click', function (e) {
        e.preventDefault()
        $(this).tab('show')
      })
    });
  </script>
{% endblock %}
